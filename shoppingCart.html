<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ShoppingCart</title>
    <link rel="stylesheet" href="css/iconfont.css" />
    <link rel="stylesheet" href="css/public.css" />
    <link rel="stylesheet" href="css/shoppingCart.css" />
  </head>
  <body>
    <header class="clearfix">
      <div id="nav">
        <h1>
          <a href="#"><img src="./img/logo/logo.png" alt="" /></a>
        </h1>
        <ul id="menu">
          <li><a href="index.html" class="fa-brands">HOME</a></li>
          <li><a href="shopDetails.html">SHOP</a></li>
          <li><a href="collection.html">COLLECTION</a></li>
          <li><a href="About.html">ABOUT</a></li>
          <li><a href="Blog.html">BLOG</a></li>
          <li><a href="contact.html">CONTACT</a></li>
        </ul>
        <ul id="icon">
          <li><span class="iconfont icon-search"></span></li>
          <li>
            <a href="shoppingCart.html"
              ><span class="iconfont icon-tianchongxing-"></span
            ></a>
          </li>
          <li><span class="iconfont icon-wode"></span></li>
        </ul>
      </div>
      <div id="details">
        <h2>SHOPPING CART</h2>
        <a href="#">Home</a> 丨 <a href="#">Shopping cart</a>
      </div>
    </header>
    <main class="container">
      <table id="table">
        <thead>
          <tr class="clearfix">
            <th class="one">PRODUCT NAME</th>
            <th class="two">UNIT PRICE</th>
            <th class="two">QUANTITY</th>
            <th class="two">TOTAL</th>
          </tr>
        </thead>
        <tbody>
          <!-- <tr>
            <td>
              <div class="d-flex">
                <div class="img"><img src="img/products/31.png" alt="" /></div>
                <div class="words"><a href="#">Leather shoes for men</a></div>
              </div>
            </td>
            <td>
              <span class="price">$42.00</span>
            </td>
            <td>
              <div class="quty">
                <div class="number">
                  <span class="reduce">-</span>
                  <input type="text" value="1" class="input" />
                  <span class="add">+</span>
                </div>
              </div>
            </td>
            <td>
              <div class="total">
                <span class="total-price">$42.00</span>
                <button>X</button>
              </div>
            </td>
          </tr> -->
          <!-- <tr>
            <td>
              <div class="d-flex">
                <div class="img"><img src="img/products/28.png" alt="" /></div>
                <div class="words"><a href="#">Leather shoes</a></div>
              </div>
            </td>
            <td>
              <span class="price">$29.00</span>
            </td>
            <td>
              <div class="quty">
                <div class="number">
                  <span class="reduce">-</span>
                  <input type="text" value="1" />
                  <span class="add">+</span>
                </div>
              </div>
            </td>
            <td>
              <div class="total">
                <span class="total-price">$29.00</span>
                <button>X</button>
              </div>
            </td>
          </tr> -->
          <!-- <tr>
            <td class="button">
              <button>CLEAR SHOPPING CART</button>
              <button class="two">UPDATE SHOPPING CART</button>
              <button class="three">CONTINUE SHOPPING</button>
            </td>
          </tr> -->
        </tbody>
      </table>
      <div id="counpon">
        <div id="counpon-left">
          <h6>Counpon discount</h6>
          <p>
            Enter your code if you have one. Pellentesque habitant morbi
            tristique senectus et netus et malesuada fames ac turpis egestas.
            Vestibulum tortor quam, feugiat vitae
          </p>
          <form action="#">
            <input type="text" placeholder="Enter your code here" />
            <button>APPLY COUNPON</button>
          </form>
        </div>
        <div id="counpon-right">
          <div id="cart-total">
            <h6>Cart Total</h6>
            <ul>
              <li>Grand Total <span id="grandTotal">$70.00</span></li>
            </ul>
            <p>Checkout with Mutilple Adresses</p>
            <button>PROCEED TO CHECKOUT</button>
          </div>
        </div>
      </div>
    </main>
    <footer>
      <div id="footer-top" class="container">
        <div id="footer-left">
          <img src="img/logo/logo.png" alt="" />
          <p>Email: <span>aruk@gmail.com</span></p>
          <p>Phone: +948 256 347 968</p>
          <p class="words">
            Subscribe to our newsleter and stay up to date with latest offers
            and upcoming trends.
          </p>
          <input type="text" placeholder="Email" />
          <span>→</span>
        </div>
        <div id="footer-right">
          <div>
            <h4>About Us</h4>
            <ul>
              <li><a href="#">Our Outlets</a></li>
              <li><a href="#">Sales and Retails</a></li>
              <li><a href="#">Areas we serve</a></li>
              <li><a href="#">Career at aruk</a></li>
              <li><a href="#">Contact Us</a></li>
            </ul>
          </div>
          <div>
            <h4>Help and Support</h4>
            <ul>
              <li><a href="#">Track my order</a></li>
              <li><a href="#">Our top products</a></li>
              <li><a href="#">My cart</a></li>
              <li><a href="#">Sign in</a></li>
              <li><a href="#">Shipping Calculator</a></li>
            </ul>
          </div>
          <div>
            <h4>Pages & Resources</h4>
            <ul>
              <li><a href="#">About Us</a></li>
              <li><a href="#">Shop Page</a></li>
              <li><a href="#">Category page</a></li>
              <li><a href="#">Sign in page</a></li>
              <li><a href="#">404 page</a></li>
            </ul>
          </div>
        </div>
      </div>
      <div class="line"></div>
      <div id="footer-bottom" class="container">
        <div class="copy">
          <p>Copyright © 2020 | Designed by <span>Wpsmasher</span></p>
        </div>
        <div class="link">
          <ul>
            <li><img src="img/link/1.png" alt="" /></li>
            <li><img src="img/link/2.png" alt="" /></li>
            <li><img src="img/link/3.png" alt="" /></li>
            <li><img src="img/link/4.png" alt="" /></li>
          </ul>
        </div>
        <div class="terms">
          <span>Terms of Use</span>丨<span>Privacy Policy</span>
        </div>
      </div>
    </footer>
    <div id="btn">↑</div>
    <script src="js/public.js"></script>
    <script>
      var shopList = [
        {
          img: "img/products/31.png",
          title: "Leather shoes for men",
          price: "$42.00",
          totalPrice: "$42.00",
        },
        {
          img: "img/products/28.png",
          title: "Leather shoes",
          price: "$28.00",
          totalPrice: "$28.00",
        },
      ];
      var tbody = document.querySelector("tbody");
      for (var i = 0; i < shopList.length; i++) {
        var tr = document.createElement("tr");
        tr.innerHTML = `
             <td>
              <div class="d-flex">
                <div class="img"><img src="${shopList[i].img}" alt="" /></div>
                <div class="words"><a href="#">${shopList[i].title}</a></div>
              </div>
            </td>
            <td>
              <span class="price">${shopList[i].price}</span>
            </td>
            <td>
              <div class="quty">
                <div class="number">
                  <span class="reduce">-</span>
                  <input type="text" value="1" class="input" />
                  <span class="add">+</span>
                </div>
              </div>
            </td>
            <td>
              <div class="total">
                <span class="total-price">${shopList[i].totalPrice}</span>
                <button>X</button>
              </div>
            </td>
        `;
        tbody.appendChild(tr);
      }

      var tr = document.createElement("tr");
      tr.innerHTML = `<td class="button">
              <button>CLEAR SHOPPING CART</button>
              <button class="two">UPDATE SHOPPING CART</button>
              <button class="three">CONTINUE SHOPPING</button>
            </td>`;
      tbody.appendChild(tr);

      // 数字加减
      var reduce = document.querySelectorAll(".reduce");
      var add = document.querySelectorAll(".add");
      var number = 0;
      var grandTotal = document.querySelector("#grandTotal");
      var totalNumber = 0;
      var totalPrice = 0;
      var totalPriceArr = document.querySelectorAll(".total-price");
      var totalPriceCopy = [];
      var sum = 0;
      for (var i = 0; i < reduce.length; i++) {
        (function (i) {
          totalPriceCopy[i] = parseInt(totalPriceArr[i].innerHTML.slice(1));
          for (var j = 0; j < reduce.length; j++) {
            sum += parseInt(totalPriceArr[j].innerHTML.slice(1));
          }
          grandTotal.innerHTML = `$${sum}.00`;
          sum = 0;
          reduce[i].onclick = function () {
            number = parseInt(this.parentNode.children[1].value);
            if (number > 1) {
              number--;
              this.parentNode.children[1].value = number;
              totalPrice = number * totalPriceCopy[i];
              totalPriceArr[i].innerHTML = `$${totalPrice}.00`;
              for (var j = 0; j < reduce.length; j++) {
                sum += parseInt(totalPriceArr[j].innerHTML.slice(1));
                console.log(sum);
              }
              grandTotal.innerHTML = `$${sum}.00`;
              sum = 0;
            }
          };
          add[i].onclick = function () {
            number = parseInt(this.parentNode.children[1].value);
            number++;
            this.parentNode.children[1].value = number;
            totalPrice = number * totalPriceCopy[i];
            totalPriceArr[i].innerHTML = `$${totalPrice}.00`;
            for (var j = 0; j < reduce.length; j++) {
              sum += parseInt(totalPriceArr[j].innerHTML.slice(1));
              console.log(sum);
            }
            grandTotal.innerHTML = `$${sum}.00`;
            sum = 0;
          };
        })(i);
      }

      // 按钮删除
      var removeAll = document.querySelectorAll(".remove");
      for (var i = 0; i < removeAll.length; i++) {
        (function (i) {
          removeAll[i].onclick = function () {
            this.parentNode.parentNode.parentNode.remove();
          };
        })(i);
      }
    </script>
  </body>
</html>
